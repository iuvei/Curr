{"version":3,"sources":["../../../../client/src/utils/rules.js"],"names":["Rule","rule","odds","input","test","lottery","Rule01","reg","console","log","inputs","split","length","Rule02","Rule03","Rule04","Rule05","Rule06","Rule07","Rule08","res","match","i","Rule09","RuleFactory","rules","isMatch","module","exports"],"mappings":"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","file":"rules.js","sourcesContent":["/**\n * Created by sven on 2017/8/19.\n */\n\n/*\n 【1~10名猜车号】\n 每一个车号为一竞猜组合，开奖结果「竞猜车号」对应所猜「车道」视为中奖，其余情形视为不中奖。\n ■奖历：含本10倍\n ■限额：10-10,000\n ■格式：名次/号码/金额\n 　例：12345/89/20 = 1~5名次的8号、9号各买20 = 总200\n 　例：1357/890/20 = 1.3.5.7名次的8号、9号、10号各买20 = 总240\n\n\n 玩法：\n\n 名次/大小单双/金额\n\n\n 【1~10名猜大小单双】\n 第一名〜第十名车号：开出之号码大于或等于6为大，小于或等于5为小。开出的号码偶数为双，号码奇数为单。\n\n ■格式：名次/大小单双/金额\n 　例：12345/双/100 = 1~5车道买双各100 = 总500\n\n 【1~10名猜组合】\n 竞猜内容为「大单」「小双」「小单」「大双」，共4种。\n ■奖历：\n 　「大单」、「小双」,「小单」、「大双」含本4倍。\n ■限额：10-10,000\n ■格式：名次/组合/金额\n 　例：890/大单/50 = 8.9.10车道大单各买50 = 总150\n\n\n 【1~5名猜龙虎】\n (1)第一名vs第十名，(2)第二名vs第九名，(3)第三名vs第八名，(4)第四名vs第七名，(5)第五名vs第六名，前比后大为龙，反之为虎。\n ■奖历：含本2倍\n ■限额：10-20,000\n ■格式：名次/号码/金额\n 　例：123/龙/100 = 1~3车道买龙各100=总300\n\n\n 【冠亚猜庄闲】\n 冠军车号「大于」亚军车号为庄，反之为闲。\n ■奖历：含本2倍\n ■限额：10-20,000\n ■格式：庄闲/金额\n 　例：庄/200 = 冠军大于亚军即中奖\n\n\n 【猜冠亚号码】\n 猜冠军及亚军车号(前2名)，每次竞猜2个号码，顺序不限。\n ■奖历：含本40倍\n ■限额：10-5,000\n ■格式：组/号码/金额\n 　例：组/5-6/50 = 5号.6号车在冠亚军(顺序不限) = 总50\n 　例：组/1-9.3-7/100 = 1.9号车或3.7号车在冠亚军(顺序不限) = 总200\n\n\n 冠亚和值(特码)猜大小单双】\n 冠军车号+亚军车号 = 冠亚和值 = 特码 = 数字3~19\n 冠亚和值大于或等于12为大，小于或等于11为小。开出的号码偶数为双，号码奇数为单。\n ■奖历：\n 　「大」、「双」,「小」、「单」含本2倍。\n ■限额：10-20,000\n ■格式：和(特)/大小单双/金额\n 　例：和/双/100 = 「冠亚和」的双100\n 　例：和/大/100 = 「冠亚和」的大100\n\n 特：指定特殊数值\n\n\n 【冠亚和值(特码)猜数字】\n 「冠亚和值」为「特码」可能出现的结果为3~19，竞猜中对应「冠亚和值」数字的视为中奖，其余视为不中奖。\n ■奖历：\n 　3.4.18.19，含本42倍，限额10-1,000\n 　5.6.16.17，含本21倍，限额10-2,000\n 　7.8.14.15，含本14倍，限额10-3,000\n 　9.10.12.13，含本10倍，限额10-4,000\n 　11，含本8倍，限额10-5,000\n ■格式：和(特)/数字/金额\n 　例：和5.6.7/100 = 竞猜「冠亚和」的值为5或6或7各100 = 总300\n\n\n\n 【冠亚和值(特码)猜区段】\n 特码3~7为A段，8~14为B段，15~19为C段。\n ■奖历：\n 　「A」、「C」含本4倍。\n 　「B」含本1.5倍。\n ■限额：10-10,000\n ■格式：ABC/金额\n 　例：BC/100 = 投注BC段位各100＝总200\n\n\n 【说明】\n ■没带名次默认竞猜第一名，如「双/100」第一名双100、「123/100」第一名123号各100\n ■竞猜时因各地网路品质不定，可能有1-2秒延迟，以系统判定是否竞猜成功为准。\n ■0号即为10号，竞猜时输入0即为10，输入10即为1、10号。\n 　例：0/0/100 = 视为竞猜第10名10号车冠军\n 　例：0/100 = 视为竞猜第1名10号车冠军\n */\n\nclass Rule {\n  constructor(rule, odds) {\n    this.rule = rule;\n    this.odds = odds;\n  }\n\n  test(input) {\n    return this.rule.test(input)\n  }\n\n  amount(input){}\n\n  gain(input, lottery){}\n\n  toString() {\n    return '(' + this.input + ')';\n  }\n}\n\nclass Rule01 extends Rule {\n  /*\n   【1~10名猜车号】\n   每一个车号为一竞猜组合，开奖结果「竞猜车号」对应所猜「车道」视为中奖，其余情形视为不中奖。\n   ■奖历：含本9.8倍\n   ■限额：10-10,000\n   ■格式：名次/号码/金额\n   　例：12345/89/20 = 1~5名次的8号、9号各买20 = 总200\n   　例：1357/890/20 = 1.3.5.7名次的8号、9号、10号各买20 = 总240\n   */\n  constructor(odds) {\n    const reg = /^[0-9]{1,10}\\/[0-9]{1,10}\\/[1-9][0-9]{1,3}$/\n    super(reg, odds);\n  }\n\n  amount(input) {\n    console.log('=============input=========', input)\n    if (!this.test(input)) {\n      return 0\n    } else {\n      const inputs = input.split(\"/\");\n      return inputs[0].length * inputs[1].length * inputs[2];\n    }\n  }\n}\n\nclass Rule02 extends Rule {\n  /*\n   【【1~10名猜大小单双】\n   第一名〜第十名车号：开出之号码大于或等于6为大，小于或等于5为小。开出的号码偶数为双，号码奇数为单。\n\n   ■格式：名次/大小单双/金额\n   　例：12345/双/100 = 1~5车道买双各100 = 总500\n   */\n  constructor(odds) {\n    const reg = /^[0-9]{1,10}\\/[大小单双]\\/[1-9][0-9]{1,3}$/\n    super(reg, odds);\n  }\n\n  amount(input) {\n    if (!this.test(input)) {\n      return 0\n    } else {\n      const inputs = input.split(\"/\");\n      return inputs[0].length * inputs[1].length * inputs[2];\n    }\n  }\n}\n\n\nclass Rule03 extends Rule {\n  /*\n   【1~10名猜组合】\n   竞猜内容为「大单」「小双」「小单」「大双」，共4种。\n   ■奖历：\n   　「大单」、「小双」含本4.5倍，\n   　「小单」、「大双」含本3倍。\n   ■限额：10-10,000\n   ■格式：名次/组合/金额\n   　例：890/大单/50 = 8.9.10车道大单各买50 = 总150\n   */\n  constructor(odds) {\n    const reg = /^[0-9]{1,10}\\/[大小][单双]\\/[1-9][0-9]{1,3}$/\n    super(reg, odds);\n  }\n\n  amount(input) {\n    if (!this.test(input)) {\n      return 0\n    } else {\n      const inputs = input.split(\"/\");\n      return inputs[0].length * inputs[2];\n    }\n  }\n}\n\nclass Rule04 extends Rule {\n  /*\n   【1~5名猜龙虎】\n   (1)第一名vs第十名，(2)第二名vs第九名，(3)第三名vs第八名，(4)第四名vs第七名，(5)第五名vs第六名，前比后大为龙，反之为虎。\n   ■奖历：含本1.96倍\n   ■限额：10-20,000\n   ■格式：名次/号码/金额\n   　例：123/龙/100 = 1~3车道买龙各100=总300\n   */\n  constructor(odds) {\n    const reg = /^[1-5]{1,5}\\/[龙虎]\\/[1-9][0-9]{1,3}$/\n    super(reg, odds);\n  }\n\n  amount(input) {\n    if (!this.test(input)) {\n      return 0\n    } else {\n      const inputs = input.split(\"/\");\n      return inputs[0].length * inputs[2];\n    }\n  }\n}\n\nclass Rule05 extends Rule {\n  /*\n   【冠亚猜庄闲】\n   冠军车号「大于」亚军车号为庄，反之为闲。\n   ■奖历：含本1.96倍\n   ■限额：10-20,000\n   ■格式：庄闲/金额\n   　例：庄/200 = 冠军大于亚军即中奖\n   */\n  constructor(odds) {\n    const reg = /^[庄闲]\\/[1-9][0-9]{1,3}$/\n    super(reg, odds);\n  }\n\n  amount(input) {\n    if (!this.test(input)) {\n      return 0\n    } else {\n      const inputs = input.split(\"/\");\n      return 1 * inputs[1];\n    }\n  }\n}\n\nclass Rule06 extends Rule {\n  /*\n   【猜冠亚号码】\n   猜冠军及亚军车号(前2名)，每次竞猜2个号码，顺序不限。\n   ■奖历：含本40倍\n   ■限额：10-5,000\n   ■格式：组/号码/金额\n   　例：组/5-6/50 = 5号.6号车在冠亚军(顺序不限) = 总50\n   　例：组/1-9.3-7/100 = 1.9号车或3.7号车在冠亚军(顺序不限) = 总200\n   */\n  constructor(odds) {\n    const reg = /^组\\/([0-9]-[0-9].){0,10}[0-9]-[0-9]\\/[0-9]{1,3}$/\n    super(reg, odds);\n  }\n\n  amount(input) {\n    if (!this.test(input)) {\n      return 0\n    } else {\n      const inputs = input.split(\"/\");\n      return inputs[1].split(\".\").length * inputs[2];\n    }\n  }\n}\n\nclass Rule07 extends Rule {\n  /*\n   冠亚和值(特码)猜大小单双】\n   冠军车号+亚军车号 = 冠亚和值 = 特码 = 数字3~19\n   冠亚和值大于或等于12为大，小于或等于11为小。开出的号码偶数为双，号码奇数为单。\n   ■奖历：\n   　「大」、「双」含本2.1倍。\n   　「小」、「单」含本1.7倍。\n   ■限额：10-20,000\n   ■格式：和/大小单双/金额\n   　例：和/双/100 = 「冠亚和」的双100\n   　例：和/大/100 = 「冠亚和」的大100\n\n   特：指定特殊数值\n   */\n  constructor(odds) {\n    const reg = /^和\\/[大小单双]\\/[1-9][0-9]{1,3}$/\n    super(reg, odds);\n  }\n\n  amount(input) {\n    if (!this.test(input)) {\n      return 0\n    } else {\n      const inputs = input.split(\"/\");\n      return 1 * inputs[2];\n    }\n  }\n}\n\nclass Rule08 extends Rule {\n  /*\n   【冠亚和值(特码)猜数字】\n   「冠亚和值」为「特码」可能出现的结果为3~19，竞猜中对应「冠亚和值」数字的视为中奖，其余视为不中奖。\n   ■奖历：\n   　3.4.18.19，含本42倍，限额10-1,000\n   　5.6.16.17，含本21倍，限额10-2,000\n   　7.8.14.15，含本14倍，限额10-3,000\n   　9.10.12.13，含本10倍，限额10-4,000\n   　11，含本8倍，限额10-5,000\n   ■格式：特/数字/金额\n   　例：特/5.6.7/100 = 竞猜「冠亚和」的值为5或6或7各100 = 总300\n   */\n  constructor(odds) {\n    const reg = /^特\\/(\\d+.)*\\d+\\/[1-9][0-9]{1,3}$/\n    super(reg, odds);\n  }\n\n  test(input) {\n    if (this.rule.test(input)) {\n      const res = input.match(/\\d+/g)\n      if (res.length > 1) {\n        for (var i = 0; i < res.length - 1; i++) {\n          if (res[i] < 3 || res[i] > 19) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    }\n    return false;\n  }\n\n  amount(input) {\n    if (!this.test(input)) {\n      return 0\n    } else {\n      const inputs = input.split(\"/\");\n      return inputs[1].split(\".\").length * inputs[2];\n    }\n  }\n}\n\nclass Rule09 extends Rule {\n  /*\n   【冠亚和值(特码)猜区段】\n   特码3~7为A段，8~14为B段，15~19为C段。\n   ■奖历：\n   　「A」、「C」含本4.5倍。\n   　「B」含本1.5倍。\n   ■限额：10-10,000\n   ■格式：ABC/金额\n   　例：BC/100 = 投注BC段位各100＝总200\n   */\n  constructor(odds) {\n    const reg = /^[ABC]{1,3}\\/[1-9][0-9]{1,3}$/\n    super(reg, odds);\n  }\n}\n\nconst RuleFactory = function () {\n}\nRuleFactory.rules = [new Rule01(), new Rule02(), new Rule03(), new Rule04()\n  , new Rule05(), new Rule06(), new Rule07(), new Rule08(), new Rule09()]\nRuleFactory.match = function (input) {\n  for (var i = 0; i < this.rules.length; i++) {\n    if (this.rules[i].test(input))\n      return this.rules[i]\n  }\n}\n\nRuleFactory.isMatch = function (input) {\n  for (var i = 0; i < this.rules.length; i++) {\n    console.log(this.rules[i], this.rules[i].test(input), input)\n    if (this.rules[i].test(input))\n      return true;\n  }\n}\n\nmodule.exports = {\n  RuleFactory,\n  Rule,\n  Rule01,\n}\n"]}